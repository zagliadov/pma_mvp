{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nconst initialState = {\n  isAuthenticated: false,\n  user: [],\n  members: []\n};\nexport const createAccount = createAsyncThunk(\"auth/createAccount\", async data => {\n  axios.post(\"http://localhost:9000/api/auth/registration\", data).then(response => response.data).then(data => data);\n  try {\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const logIn = createAsyncThunk(\"auth/login\", async data => {\n  try {\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const forgotPassword = createAsyncThunk(\"auth/forgotPassword\", async email => {\n  console.log(email);\n  try {} catch (error) {\n    console.log(error);\n  }\n});\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    login: state => {\n      state.isAuthenticated = true;\n    },\n    logout: state => {\n      state.isAuthenticated = false;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(forgotPassword.pending, state => {}).addCase(forgotPassword.fulfilled, state => {}).addCase(forgotPassword.rejected, state => {});\n    builder.addCase(logIn.pending, state => {}).addCase(logIn.fulfilled, (state, action) => {\n      // if (!action.payload) return;\n      // if (\n      //   action.payload.email === state.user.email &&\n      //   action.payload.password === state.user.password\n      // ) {\n      //   state.isAuthenticated = true;\n      // }\n      // console.log(state.isAuthenticated);\n    }).addCase(logIn.rejected, state => {});\n    builder.addCase(createAccount.pending, state => {}).addCase(createAccount.fulfilled, (state, action) => {\n      // if (!action.payload) return;\n      // state.user = action.payload;\n    }).addCase(createAccount.rejected, state => {});\n  }\n});\nexport const {\n  login,\n  logout\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","initialState","isAuthenticated","user","members","createAccount","data","post","then","response","error","console","log","logIn","forgotPassword","email","authSlice","name","reducers","login","state","logout","extraReducers","builder","addCase","pending","fulfilled","rejected","action","actions","reducer"],"sources":["/app/src/redux/authSlice/authSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState, AppThunk } from \"../store\";\nimport axios from \"axios\";\n\nexport interface IUsers {\n  username: string;\n  workspace: string\n  email: string;\n  password: string;\n}\nexport interface AuthState {\n  isAuthenticated: boolean;\n  user: IUsers[];\n  members: IUsers[];\n}\n\nexport interface ICreateAccountProps {\n  username: string;\n  email: string;\n  workspace: string;\n  password: string;\n}\n\nexport interface ILogInProps {\n  email: string;\n  password: string;\n}\n\nconst initialState: AuthState = {\n  isAuthenticated: false,\n  user: [],\n  members: [],\n};\n\nexport const createAccount = createAsyncThunk(\n  \"auth/createAccount\",\n  async (data: ICreateAccountProps) => {\n    axios.post(\"http://localhost:9000/api/auth/registration\", data)\n      .then(response => response.data)\n      .then(data => data);\n    try {\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\n\nexport const logIn = createAsyncThunk(\n  \"auth/login\",\n  async (data: ILogInProps) => {\n    try {\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\n\nexport const forgotPassword = createAsyncThunk(\n  \"auth/forgotPassword\",\n  async (email: string) => {\n    console.log(email);\n    try {\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\n\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    login: (state) => {\n      state.isAuthenticated = true;\n    },\n    logout: (state) => {\n      state.isAuthenticated = false;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(forgotPassword.pending, (state) => {})\n      .addCase(forgotPassword.fulfilled, (state) => {})\n      .addCase(forgotPassword.rejected, (state) => {});\n    builder\n      .addCase(logIn.pending, (state) => {})\n      .addCase(logIn.fulfilled, (state, action) => {\n        // if (!action.payload) return;\n        // if (\n        //   action.payload.email === state.user.email &&\n        //   action.payload.password === state.user.password\n        // ) {\n        //   state.isAuthenticated = true;\n        // }\n        // console.log(state.isAuthenticated);\n      })\n      .addCase(logIn.rejected, (state) => {});\n    builder\n      .addCase(createAccount.pending, (state) => {})\n      .addCase(createAccount.fulfilled, (state, action) => {\n        // if (!action.payload) return;\n        // state.user = action.payload;\n      })\n      .addCase(createAccount.rejected, (state) => {});\n  },\n});\n\nexport const { login, logout } = authSlice.actions;\n\nexport default authSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAuB,kBAAkB;AAE/E,OAAOC,KAAK,MAAM,OAAO;AA0BzB,MAAMC,YAAuB,GAAG;EAC9BC,eAAe,EAAE,KAAK;EACtBC,IAAI,EAAE,EAAE;EACRC,OAAO,EAAE;AACX,CAAC;AAED,OAAO,MAAMC,aAAa,GAAGP,gBAAgB,CAC3C,oBAAoB,EACpB,MAAOQ,IAAyB,IAAK;EACnCN,KAAK,CAACO,IAAI,CAAC,6CAA6C,EAAED,IAAI,CAAC,CAC5DE,IAAI,CAACC,QAAQ,IAAIA,QAAQ,CAACH,IAAI,CAAC,CAC/BE,IAAI,CAACF,IAAI,IAAIA,IAAI,CAAC;EACrB,IAAI;IACF,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;AACF,CAAC,CACF;AAED,OAAO,MAAMG,KAAK,GAAGf,gBAAgB,CACnC,YAAY,EACZ,MAAOQ,IAAiB,IAAK;EAC3B,IAAI;IACF,OAAOA,IAAI;EACb,CAAC,CAAC,OAAOI,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;AACF,CAAC,CACF;AAED,OAAO,MAAMI,cAAc,GAAGhB,gBAAgB,CAC5C,qBAAqB,EACrB,MAAOiB,KAAa,IAAK;EACvBJ,OAAO,CAACC,GAAG,CAACG,KAAK,CAAC;EAClB,IAAI,CACJ,CAAC,CAAC,OAAOL,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACpB;AACF,CAAC,CACF;AAED,OAAO,MAAMM,SAAS,GAAGjB,WAAW,CAAC;EACnCkB,IAAI,EAAE,MAAM;EACZhB,YAAY;EACZiB,QAAQ,EAAE;IACRC,KAAK,EAAGC,KAAK,IAAK;MAChBA,KAAK,CAAClB,eAAe,GAAG,IAAI;IAC9B,CAAC;IACDmB,MAAM,EAAGD,KAAK,IAAK;MACjBA,KAAK,CAAClB,eAAe,GAAG,KAAK;IAC/B;EACF,CAAC;EACDoB,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACV,cAAc,CAACW,OAAO,EAAGL,KAAK,IAAK,CAAC,CAAC,CAAC,CAC9CI,OAAO,CAACV,cAAc,CAACY,SAAS,EAAGN,KAAK,IAAK,CAAC,CAAC,CAAC,CAChDI,OAAO,CAACV,cAAc,CAACa,QAAQ,EAAGP,KAAK,IAAK,CAAC,CAAC,CAAC;IAClDG,OAAO,CACJC,OAAO,CAACX,KAAK,CAACY,OAAO,EAAGL,KAAK,IAAK,CAAC,CAAC,CAAC,CACrCI,OAAO,CAACX,KAAK,CAACa,SAAS,EAAE,CAACN,KAAK,EAAEQ,MAAM,KAAK;MAC3C;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IAAA,CACD,CAAC,CACDJ,OAAO,CAACX,KAAK,CAACc,QAAQ,EAAGP,KAAK,IAAK,CAAC,CAAC,CAAC;IACzCG,OAAO,CACJC,OAAO,CAACnB,aAAa,CAACoB,OAAO,EAAGL,KAAK,IAAK,CAAC,CAAC,CAAC,CAC7CI,OAAO,CAACnB,aAAa,CAACqB,SAAS,EAAE,CAACN,KAAK,EAAEQ,MAAM,KAAK;MACnD;MACA;IAAA,CACD,CAAC,CACDJ,OAAO,CAACnB,aAAa,CAACsB,QAAQ,EAAGP,KAAK,IAAK,CAAC,CAAC,CAAC;EACnD;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAED,KAAK;EAAEE;AAAO,CAAC,GAAGL,SAAS,CAACa,OAAO;AAElD,eAAeb,SAAS,CAACc,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}