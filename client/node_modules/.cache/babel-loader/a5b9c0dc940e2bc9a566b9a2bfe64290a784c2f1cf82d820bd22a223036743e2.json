{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  isAuthenticated: false,\n  user: {\n    id: \"test\",\n    name: \"Test Test\",\n    email: \"test@test.com\",\n    password: \"test\"\n  },\n  members: []\n};\nexport const createAccount = createAsyncThunk(\"auth/createAccount\", async data => {\n  try {\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const logIn = createAsyncThunk(\"auth/login\", async data => {\n  try {\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const forgotPassword = createAsyncThunk(\"auth/forgotPassword\", async email => {\n  console.log(email);\n  try {} catch (error) {\n    console.log(error);\n  }\n});\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    login: state => {\n      state.isAuthenticated = true;\n    },\n    logout: state => {\n      state.isAuthenticated = false;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(forgotPassword.pending, state => {}).addCase(forgotPassword.fulfilled, state => {}).addCase(forgotPassword.rejected, state => {});\n    builder.addCase(logIn.pending, state => {}).addCase(logIn.fulfilled, (state, action) => {\n      if (!action.payload) return;\n      if (action.payload.email === state.user.email && action.payload.password === state.user.password) {\n        state.isAuthenticated = true;\n      }\n      console.log(state.isAuthenticated);\n    }).addCase(logIn.rejected, state => {});\n    builder.addCase(createAccount.pending, state => {}).addCase(createAccount.fulfilled, (state, action) => {\n      if (!action.payload) return;\n      state.user = action.payload;\n    }).addCase(createAccount.rejected, state => {});\n  }\n});\nexport const {\n  login,\n  logout\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","initialState","isAuthenticated","user","id","name","email","password","members","createAccount","data","error","console","log","logIn","forgotPassword","authSlice","reducers","login","state","logout","extraReducers","builder","addCase","pending","fulfilled","rejected","action","payload","actions","reducer"],"sources":["/app/src/redux/authSlice/authSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice, PayloadAction } from \"@reduxjs/toolkit\";\nimport { RootState, AppThunk } from \"../store\";\nimport axios from \"axios\";\n\nexport interface IUsers {\n  id: string;\n  name: string;\n  email: string;\n  password: string;\n}\nexport interface AuthState {\n  isAuthenticated: boolean;\n  user: IUsers;\n  members: IUsers[];\n}\n\nexport interface ICreateAccountProps {\n  id: string;\n  name: string;\n  email: string;\n  password: string;\n}\n\nexport interface ILogInProps {\n  email: string;\n  password: string;\n}\n\nconst initialState: AuthState = {\n  isAuthenticated: false,\n  user: { id: \"test\", name: \"Test Test\", email: \"test@test.com\", password: \"test\" },\n  members: [],\n};\n\nexport const createAccount = createAsyncThunk(\n  \"auth/createAccount\",\n  async (data: ICreateAccountProps) => {\n    try {\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\n\nexport const logIn = createAsyncThunk(\n  \"auth/login\",\n  async (data: ILogInProps) => {\n    try {\n      return data;\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\n\nexport const forgotPassword = createAsyncThunk(\n  \"auth/forgotPassword\",\n  async (email: string) => {\n    console.log(email);\n    try {\n    } catch (error) {\n      console.log(error);\n    }\n  }\n);\n\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    login: (state) => {\n      state.isAuthenticated = true;\n    },\n    logout: (state) => {\n      state.isAuthenticated = false;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(forgotPassword.pending, (state) => {})\n      .addCase(forgotPassword.fulfilled, (state) => {})\n      .addCase(forgotPassword.rejected, (state) => {});\n    builder\n      .addCase(logIn.pending, (state) => {})\n      .addCase(logIn.fulfilled, (state, action) => {\n        if (!action.payload) return;\n        if (\n          action.payload.email === state.user.email &&\n          action.payload.password === state.user.password\n        ) {\n          state.isAuthenticated = true;\n        }\n        console.log(state.isAuthenticated);\n      })\n      .addCase(logIn.rejected, (state) => {});\n    builder\n      .addCase(createAccount.pending, (state) => {})\n      .addCase(createAccount.fulfilled, (state, action) => {\n        if (!action.payload) return;\n        state.user = action.payload;\n      })\n      .addCase(createAccount.rejected, (state) => {});\n  },\n});\n\nexport const { login, logout } = authSlice.actions;\n\nexport default authSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}